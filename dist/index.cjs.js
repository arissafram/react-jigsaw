"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const u=require("react");var X={exports:{}},Y={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q;function ie(){if(Q)return Y;Q=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(a,n,c){var f=null;if(c!==void 0&&(f=""+c),n.key!==void 0&&(f=""+n.key),"key"in n){c={};for(var v in n)v!=="key"&&(c[v]=n[v])}else c=n;return n=c.ref,{$$typeof:r,type:a,key:f,ref:n!==void 0?n:null,props:c}}return Y.Fragment=t,Y.jsx=s,Y.jsxs=s,Y}var F={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ee;function ue(){return ee||(ee=1,process.env.NODE_ENV!=="production"&&function(){function r(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===i?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case d:return"Profiler";case l:return"StrictMode";case B:return"Suspense";case I:return"SuspenseList";case h:return"Activity"}if(typeof e=="object")switch(typeof e.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),e.$$typeof){case z:return"Portal";case j:return(e.displayName||"Context")+".Provider";case p:return(e._context.displayName||"Context")+".Consumer";case D:var b=e.render;return e=e.displayName,e||(e=b.displayName||b.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case T:return b=e.displayName||null,b!==null?b:r(e.type)||"Memo";case O:b=e._payload,e=e._init;try{return r(e(b))}catch{}}return null}function t(e){return""+e}function s(e){try{t(e);var b=!1}catch{b=!0}if(b){b=console;var _=b.error,y=typeof Symbol=="function"&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object";return _.call(b,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",y),t(e)}}function a(e){if(e===E)return"<>";if(typeof e=="object"&&e!==null&&e.$$typeof===O)return"<...>";try{var b=r(e);return b?"<"+b+">":"<...>"}catch{return"<...>"}}function n(){var e=m.A;return e===null?null:e.getOwner()}function c(){return Error("react-stack-top-frame")}function f(e){if(x.call(e,"key")){var b=Object.getOwnPropertyDescriptor(e,"key").get;if(b&&b.isReactWarning)return!1}return e.key!==void 0}function v(e,b){function _(){U||(U=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",b))}_.isReactWarning=!0,Object.defineProperty(e,"key",{get:_,configurable:!0})}function o(){var e=r(this.type);return q[e]||(q[e]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),e=this.props.ref,e!==void 0?e:null}function w(e,b,_,y,M,A,G,V){return _=A.ref,e={$$typeof:C,type:e,key:b,props:A,_owner:M},(_!==void 0?_:null)!==null?Object.defineProperty(e,"ref",{enumerable:!1,get:o}):Object.defineProperty(e,"ref",{enumerable:!1,value:null}),e._store={},Object.defineProperty(e._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(e,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(e,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:G}),Object.defineProperty(e,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:V}),Object.freeze&&(Object.freeze(e.props),Object.freeze(e)),e}function S(e,b,_,y,M,A,G,V){var N=b.children;if(N!==void 0)if(y)if(k(N)){for(y=0;y<N.length;y++)P(N[y]);Object.freeze&&Object.freeze(N)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else P(N);if(x.call(b,"key")){N=r(e);var L=Object.keys(b).filter(function(ce){return ce!=="key"});y=0<L.length?"{key: someKey, "+L.join(": ..., ")+": ...}":"{key: someKey}",K[N+y]||(L=0<L.length?"{"+L.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,y,N,L,N),K[N+y]=!0)}if(N=null,_!==void 0&&(s(_),N=""+_),f(b)&&(s(b.key),N=""+b.key),"key"in b){_={};for(var J in b)J!=="key"&&(_[J]=b[J])}else _=b;return N&&v(_,typeof e=="function"?e.displayName||e.name||"Unknown":e),w(e,N,A,M,n(),_,G,V)}function P(e){typeof e=="object"&&e!==null&&e.$$typeof===C&&e._store&&(e._store.validated=1)}var R=u,C=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),j=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),i=Symbol.for("react.client.reference"),m=R.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=Object.prototype.hasOwnProperty,k=Array.isArray,$=console.createTask?console.createTask:function(){return null};R={"react-stack-bottom-frame":function(e){return e()}};var U,q={},H=R["react-stack-bottom-frame"].bind(R,c)(),Z=$(a(c)),K={};F.Fragment=E,F.jsx=function(e,b,_,y,M){var A=1e4>m.recentlyCreatedOwnerStacks++;return S(e,b,_,!1,y,M,A?Error("react-stack-top-frame"):H,A?$(a(e)):Z)},F.jsxs=function(e,b,_,y,M){var A=1e4>m.recentlyCreatedOwnerStacks++;return S(e,b,_,!0,y,M,A?Error("react-stack-top-frame"):H,A?$(a(e)):Z)}}()),F}var te;function de(){return te||(te=1,process.env.NODE_ENV==="production"?X.exports=ie():X.exports=ue()),X.exports}var g=de();const se={board:{className:"",columns:4,height:500,rows:5,scatterArea:0,showBoardSlotOutlines:!0,snapThreshold:20,width:400},checkLocalStorage:!1,onComplete:()=>{},onRefresh:()=>{},puzzlePiece:{strokeColor:"gold",strokeEnabled:!0},puzzle:{className:"",responsive:!1,timer:{className:"",enabled:!1},refreshButton:{className:"",enabled:!1},rowsAndColumns:{className:"",enabled:!1}}},fe="react-jigsaw",oe=2,ae=u.createContext(void 0),pe=r=>{if(typeof window<"u"&&r){const t=localStorage.getItem(fe);if(t){const s=JSON.parse(t);if(typeof s.rows=="number"&&typeof s.columns=="number")return{rows:s.rows,columns:s.columns}}}return{}},he=r=>{const{rows:t,columns:s}=pe(r.checkLocalStorage),[a,n]=u.useState(s??r.columns),[c,f]=u.useState(t??r.rows),[v,o]=u.useState(!0),[w,S]=u.useState(0),P=c*a,z={columns:a,numPieces:P,refreshCount:w,rows:c,timerIsRunning:v,setBoardGrid:(E,l)=>{f(E),n(l),o(!1),setTimeout(()=>o(!0),10)},refreshBoard:()=>{o(!1),S(E=>E+1),setTimeout(()=>o(!0),10)},setTimerIsRunning:o};return g.jsx(ae.Provider,{value:z,children:r.children})},me=()=>{const r=u.useContext(ae);if(!r)throw new Error("usePuzzleContext must be used within a PuzzleProvider");return r},be=(r,t)=>t?{board:{className:t.board?.className??r.board.className,columns:t.board?.columns??r.board.columns,height:t.board?.height??r.board.height,rows:t.board?.rows??r.board.rows,scatterArea:t.board?.scatterArea??r.board.scatterArea,showBoardSlotOutlines:t.board?.showBoardSlotOutlines??r.board.showBoardSlotOutlines,snapThreshold:t.board?.snapThreshold??r.board.snapThreshold,width:t.board?.width??r.board.width},checkLocalStorage:t.checkLocalStorage??r.checkLocalStorage,onComplete:t.onComplete??r.onComplete,onRefresh:t.onRefresh??r.onRefresh,puzzlePiece:{strokeColor:t.puzzlePiece?.strokeColor??r.puzzlePiece.strokeColor,strokeEnabled:t.puzzlePiece?.strokeEnabled??r.puzzlePiece.strokeEnabled},puzzle:{className:t.puzzle?.className??r.puzzle.className,responsive:t.puzzle?.responsive??r.puzzle.responsive,timer:{className:t.puzzle?.timer?.className??r.puzzle.timer.className,enabled:t.puzzle?.timer?.enabled??r.puzzle.timer.enabled},refreshButton:{className:t.puzzle?.refreshButton?.className??r.puzzle.refreshButton.className,enabled:t.puzzle?.refreshButton?.enabled??r.puzzle.refreshButton.enabled},rowsAndColumns:{className:t.puzzle?.rowsAndColumns?.className??r.puzzle.rowsAndColumns.className,enabled:t.puzzle?.rowsAndColumns?.enabled??r.puzzle.rowsAndColumns.enabled}}}:r;function ge({initialX:r,initialY:t,boardRef:s,targetX:a,targetY:n,snapThreshold:c,onSnap:f}){const v=u.useRef(null),[o,w]=u.useState({isDragging:!1,x:r,y:t}),[S,P]=u.useState(!1),R=u.useRef(null),C=u.useRef(null),z=u.useCallback((h,i)=>{const m=s.current;if(!m)return{x:h,y:i};const x=m.createSVGPoint();x.x=h,x.y=i;const k=x.matrixTransform(m.getScreenCTM()?.inverse());return{x:k.x,y:k.y}},[s]),E=u.useCallback((h,i)=>Math.hypot(h-a,i-n)<=c?(P(!0),w(x=>({...x,x:a,y:n,isDragging:!1})),f?.(),!0):!1,[a,n,c,f]),l=u.useCallback(h=>{const i=R.current;if(!i||!i.isDragging||h.pointerId!==i.pointerId)return;const m=z(h.clientX,h.clientY),x=m.x-i.offsetX,k=m.y-i.offsetY;w($=>({...$,x,y:k})),h.preventDefault()},[z]);C.current=l;const d=u.useCallback(h=>{const i=R.current;if(!i||!i.isDragging||h.pointerId!==i.pointerId)return;i.isDragging=!1,C.current&&window.removeEventListener("pointermove",C.current),window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",d);const m=v.current;m&&m.hasPointerCapture(h.pointerId)&&m.releasePointerCapture(h.pointerId);const x=z(h.clientX,h.clientY),k=x.x-i.offsetX,$=x.y-i.offsetY;R.current=null,E(k,$)||w(U=>({...U,isDragging:!1})),h.preventDefault()},[z,E]),p=u.useCallback(h=>{if(S||!h.isPrimary)return;const i=v.current;if(!i)return;const m=z(h.clientX,h.clientY),x=m.x-o.x,k=m.y-o.y;R.current={offsetX:x,offsetY:k,pointerId:h.pointerId,isDragging:!0},i.setPointerCapture(h.pointerId),C.current&&window.addEventListener("pointermove",C.current,{passive:!1}),window.addEventListener("pointerup",d,{passive:!1}),window.addEventListener("pointercancel",d,{passive:!1}),w($=>({...$,isDragging:!0})),h.preventDefault()},[S,o.x,o.y,z,d]),j=u.useCallback(h=>{h.preventDefault()},[]),D=u.useCallback(h=>{h.preventDefault()},[]),B=u.useCallback(h=>{d(h.nativeEvent)},[d]),I=u.useCallback((h,i)=>{S||w(m=>({...m,x:h,y:i}))},[S]),T=u.useCallback((h,i)=>{S||w(m=>({...m,x:m.x+h,y:m.y+i}))},[S]),O=u.useCallback(()=>S?!1:E(o.x,o.y),[S,o.x,o.y,E]);return{ref:v,dragState:o,isSnapped:S,moveTo:I,moveBy:T,trySnap:O,handlers:{onPointerDown:p,onPointerMove:j,onPointerUp:D,onPointerCancel:B,style:{touchAction:"none",cursor:S?"default":o.isDragging?"grabbing":"grab"}}}}const ve="_puzzlePiece_10f4h_1",we={puzzlePiece:ve},Se=10,ze=({boardHeight:r,boardWidth:t,image:s,pieceIndex:a,initialX:n,initialY:c,path:f,snapThreshold:v,boardRef:o,targetX:w,targetY:S,puzzlePieceOptions:P,onSnap:R,onSnapWithKeyboard:C,registerPieceRef:z,boardSlotKey:E})=>{const{ref:l,dragState:d,isSnapped:p,moveBy:j,trySnap:D,handlers:B}=ge({initialX:n,initialY:c,snapThreshold:v,boardRef:o,targetX:w,targetY:S,onSnap:R});u.useEffect(()=>(z&&z(E,l.current),()=>{z&&z(E,null)}),[l,z,E]);const I=T=>{if(p)return;const O=Se;switch(T.key){case"ArrowUp":T.preventDefault(),j(0,-O);break;case"ArrowDown":T.preventDefault(),j(0,O);break;case"ArrowLeft":T.preventDefault(),j(-O,0);break;case"ArrowRight":T.preventDefault(),j(O,0);break;case"Enter":case" ":{T.preventDefault(),D()&&C&&C();break}}};return u.useEffect(()=>{d.isDragging&&l.current&&l.current.parentNode&&!p&&l.current.parentNode.appendChild(l.current)},[l,d.isDragging,p]),u.useEffect(()=>{if(!d.isDragging&&p&&l.current&&l.current.parentNode){const T=l.current.parentNode;T.firstChild!==l.current&&T.insertBefore(l.current,T.firstChild)}},[l,d.isDragging,p]),g.jsxs("g",{ref:l,transform:p?"":`translate(${d.x},${d.y})`,...B,className:we.puzzlePiece,tabIndex:p?-1:0,onKeyDown:I,children:[g.jsx("defs",{children:g.jsx("clipPath",{id:`piece-clip-${a}`,children:g.jsx("path",{d:f})})}),g.jsx("image",{href:s,x:0,y:0,width:t,height:r,clipPath:`url(#piece-clip-${a})`,preserveAspectRatio:"xMidYMid slice"}),g.jsx("path",{d:f,fill:"none",stroke:p||!P.strokeEnabled?"":P.strokeColor,strokeWidth:P.strokeEnabled?oe:0})]})},Re=({columns:r,rows:t})=>{const s=[];for(let a=0;a<t;a++){s[a]=[];for(let n=0;n<r;n++){const c=n===r-1?0:(a+n)%2===0?1:-1,f=a===t-1?0:(a+n)%2===0?1:-1,v=n===0?0:-s[a][n-1][1],o=a===0?0:-s[a-1][n][2];s[a][n]=[o,c,f,v]}}return s},le=({col:r,row:t,options:s})=>{const{boardWidth:a,boardHeight:n,rows:c,columns:f,edgeMap:v}=s,o=a/f,w=n/c,S=r*o,P=t*w,[R,C,z,E]=v[t][r],l=Math.min(o,w)/3,d=l/2;let p=`M${S},${P}`;return R===0?p+=` h${o}`:(p+=` h${(o-l)/2}`,p+=` a${d},${d} 0 0 ${R===1?1:0} ${l},0`,p+=` h${(o-l)/2}`),C===0?p+=` v${w}`:(p+=` v${(w-l)/2}`,p+=` a${d},${d} 0 0 ${C===1?1:0} 0,${l}`,p+=` v${(w-l)/2}`),z===0?p+=` h-${o}`:(p+=` h-${(o-l)/2}`,p+=` a${d},${d} 0 0 ${z===1?1:0} -${l},0`,p+=` h-${(o-l)/2}`),E===0?p+=` v-${w}`:(p+=` v-${(w-l)/2}`,p+=` a${d},${d} 0 0 ${E===1?1:0} 0,-${l}`,p+=` v-${(w-l)/2}`),p+=" Z",p},Ee="_boardSlotOutline_1x34h_1",Ce="_snapped_1x34h_7",re={boardSlotOutline:Ee,snapped:Ce},xe=r=>{const{boardPathOptions:t,boardSlots:s,showBoardSlotOutlines:a,snappedPieceIds:n}=r;return a?g.jsx("g",{"data-testid":"board-outlines",children:s.map(({pieceRow:c,pieceCol:f})=>{const v=`${c}-${f}`,o=n.has(v);return g.jsx("path",{"data-testid":`outline-${c}-${f}`,className:`${re.boardSlotOutline} ${o?re.snapped:""}`,d:le({row:c,col:f,options:t})},`outline-${c}-${f}`)})}):null},_e=(r,t)=>Array.from({length:r*t},(s,a)=>({pieceRow:Math.floor(a/t),pieceCol:a%t})),Pe=r=>{const t=[...r];for(let s=t.length-1;s>0;s--){const a=Math.floor(Math.random()*(s+1));[t[s],t[a]]=[t[a],t[s]]}return t},ke=({boardWidth:r,boardHeight:t,boardSlots:s,pieceHeight:a,pieceWidth:n,scatterArea:c})=>{const f=Pe(s),v=r+c*2,o=t+c*2,w=-c,S=-c;return f.map(({pieceRow:P,pieceCol:R})=>{const C=w+Math.random()*(v-n),z=S+Math.random()*(o-a),E=R*n,l=P*a,d=C-E,p=z-l;return{pieceRow:P,pieceCol:R,x:d,y:p}})},$e="_board_srrvi_1",Te={board:$e},ye=r=>{const{boardHeight:t,boardWidth:s,className:a,columns:n,image:c,onPuzzleComplete:f,puzzlePieceOptions:v,rows:o,showBoardSlotOutlines:w,snapThreshold:S,scatterArea:P}=r,R=t/o,C=s/n,[z,E]=u.useState([]),[l,d]=u.useState(new Set),p=u.useRef(null),j=u.useRef(new Map),D=u.useMemo(()=>Re({rows:o,columns:n}),[o,n]),B=u.useMemo(()=>({boardHeight:t,boardWidth:s,columns:n,edgeMap:D,rows:o}),[t,s,n,D,o]),I=u.useMemo(()=>_e(o,n),[o,n]);u.useEffect(()=>{const i=ke({boardHeight:t,boardWidth:s,boardSlots:I,pieceHeight:R,pieceWidth:C,scatterArea:P});E(i),d(new Set),j.current.clear()},[t,s,I,R,C,P]),u.useEffect(()=>{const i=o*n;l.size===i&&f?.()},[l.size,o,n,f]);const T=i=>{const{pieceRow:m,pieceCol:x}=z[i],k=`${m}-${x}`;d($=>new Set([...$,k]))},O=i=>{const m=z.find((x,k)=>{const $=`${x.pieceRow}-${x.pieceCol}`;return k!==i&&!l.has($)});if(m){const x=`${m.pieceRow}-${m.pieceCol}`,k=j.current.get(x);k&&k.focus()}},h=(i,m)=>{m?j.current.set(i,m):j.current.delete(i)};return g.jsxs("svg",{ref:p,className:`${Te.board} ${a}`,"data-testid":"board",height:t,width:s,viewBox:`0 0 ${s} ${t}`,children:[g.jsx(xe,{boardPathOptions:B,boardSlots:I,showBoardSlotOutlines:w,snappedPieceIds:l}),z.map(({pieceRow:i,pieceCol:m,x,y:k},$)=>g.jsx(ze,{boardHeight:t,boardWidth:s,boardSlotKey:`${i}-${m}`,image:c,pieceIndex:$,initialX:x,initialY:k,onSnap:()=>T($),onSnapWithKeyboard:()=>O($),path:le({col:m,row:i,options:B}),puzzlePieceOptions:v,registerPieceRef:h,snapThreshold:S,boardRef:p,targetX:m*C/100,targetY:i*R/100},`${i}-${m}`))]})},Ne="_editRowsColumns_1gi2i_1",je="_inlineNote_1gi2i_51",ne={editRowsColumns:Ne,inlineNote:je},Oe=r=>{const{className:t,currentColumns:s,currentRows:a,onBoardSlotChange:n}=r,[c,f]=u.useState(a.toString()),[v,o]=u.useState(s.toString()),w=parseInt(c)!==a||parseInt(v)!==s,S=parseInt(c)>=2&&parseInt(c)<=10,P=parseInt(v)>=2&&parseInt(v)<=10,R=S&&P&&w;u.useEffect(()=>{f(a.toString()),o(s.toString())},[a,s]);const C=l=>{const d=l.target.value;(d===""||/^\d+$/.test(d))&&f(d)},z=l=>{const d=l.target.value;(d===""||/^\d+$/.test(d))&&o(d)},E=l=>{l.preventDefault(),R&&(localStorage.setItem("react-jigsaw",JSON.stringify({rows:parseFloat(c),columns:parseFloat(v)})),n(parseInt(c),parseInt(v)))};return g.jsxs(g.Fragment,{children:[g.jsxs("form",{"data-testid":"edit-rows-columns",className:`${ne.editRowsColumns} ${t}`,onSubmit:E,children:[g.jsxs("label",{children:["Rows:",g.jsx("input",{type:"text",value:c,onChange:C,placeholder:"2-10"})]}),g.jsxs("label",{children:["Cols:",g.jsx("input",{type:"text",value:v,onChange:z,placeholder:"2-10"})]}),g.jsx("input",{type:"submit",value:"Ok",disabled:!R})]}),g.jsx("span",{className:ne.inlineNote,children:"(Valid numbers: 2-10)"})]})},Ae="_refreshButton_17b0p_1",Ie={refreshButton:Ae},De=r=>{const{className:t,onRefresh:s}=r;return g.jsx("button",{"data-testid":"refresh-button",className:`${Ie.refreshButton} ${t}`,onClick:s,title:"Refresh puzzle",children:g.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:oe,strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),g.jsx("path",{d:"M21 3v5h-5"}),g.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),g.jsx("path",{d:"M3 21v-5h5"})]})})},Be="_timer_thvwo_1",Me={timer:Be},Le=r=>{const{className:t,isRunning:s,onTimeUpdate:a}=r,[n,c]=u.useState(0),f=u.useRef(null);u.useEffect(()=>(s?f.current=setInterval(()=>{c(o=>{const w=o+1;return a?.(w),w})},1e3):f.current&&(clearInterval(f.current),f.current=null),()=>{f.current&&clearInterval(f.current)}),[s,a]),u.useEffect(()=>{s&&c(0)},[s]);const v=o=>{const w=Math.floor(o/60),S=o%60;return`${w.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}`};return g.jsx("div",{"data-testid":"timer",className:`${Me.timer} ${t}`,children:v(n)})},Ye="_puzzle_c9hl6_1",Fe="_responsive_c9hl6_5",We="_settingsContainer_c9hl6_13",W={puzzle:Ye,responsive:Fe,settingsContainer:We},Ue=r=>{const{image:t,onComplete:s,onRefresh:a,options:n}=r,{columns:c,refreshBoard:f,refreshCount:v,rows:o,setBoardGrid:w,setTimerIsRunning:S,timerIsRunning:P}=me(),R=(p,j)=>{w(p,j)},C=()=>{a?.(),f()},z=()=>{S(!1),s?.()},E=n.board.width/n.board.height,l=n.puzzle.responsive?`${W.puzzle} ${W.responsive}`:W.puzzle,d=n.puzzle.responsive?{"--puzzle-aspect-ratio":E.toString()}:{};return g.jsxs("div",{"data-testid":"puzzle-content",className:l,style:{...d},children:[n.puzzle.timer.enabled||n.puzzle.refreshButton.enabled?g.jsxs("div",{className:W.settingsContainer,children:[n.puzzle.timer.enabled&&g.jsx(Le,{className:n.puzzle.timer.className,isRunning:P}),n.puzzle.refreshButton.enabled&&g.jsx(De,{className:n.puzzle.refreshButton.className,onRefresh:C})]}):null,g.jsx(ye,{boardHeight:n.board.height,boardWidth:n.board.width,className:n.board.className,columns:c,image:t,onPuzzleComplete:z,puzzlePieceOptions:n.puzzlePiece,rows:o,scatterArea:n.board.scatterArea,showBoardSlotOutlines:n.board.showBoardSlotOutlines,snapThreshold:n.board.snapThreshold},`${o}-${c}-${v}`),n.puzzle.rowsAndColumns.enabled&&g.jsx("div",{className:W.settingsContainer,children:g.jsx(Oe,{className:n.puzzle.rowsAndColumns.className,currentRows:o,currentColumns:c,onBoardSlotChange:R})})]})},Xe=r=>{const{options:t}=r,s=be(se,t);return g.jsx(he,{checkLocalStorage:s.checkLocalStorage,columns:s.board.columns,rows:s.board.rows,children:g.jsx(Ue,{...r,options:s})})};exports.DEFAULT_PUZZLE_OPTIONS=se;exports.Puzzle=Xe;
