"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const d=require("react");var X={exports:{}},F={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q;function ie(){if(Q)return F;Q=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(o,n,l){var m=null;if(l!==void 0&&(m=""+l),n.key!==void 0&&(m=""+n.key),"key"in n){l={};for(var v in n)v!=="key"&&(l[v]=n[v])}else l=n;return n=l.ref,{$$typeof:r,type:o,key:m,ref:n!==void 0?n:null,props:l}}return F.Fragment=t,F.jsx=s,F.jsxs=s,F}var W={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ee;function ue(){return ee||(ee=1,process.env.NODE_ENV!=="production"&&function(){function r(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case u:return"Profiler";case c:return"StrictMode";case B:return"Suspense";case M:return"SuspenseList";case h:return"Activity"}if(typeof e=="object")switch(typeof e.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),e.$$typeof){case w:return"Portal";case j:return(e.displayName||"Context")+".Provider";case p:return(e._context.displayName||"Context")+".Consumer";case I:var b=e.render;return e=e.displayName,e||(e=b.displayName||b.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return b=e.displayName||null,b!==null?b:r(e.type)||"Memo";case A:b=e._payload,e=e._init;try{return r(e(b))}catch{}}return null}function t(e){return""+e}function s(e){try{t(e);var b=!1}catch{b=!0}if(b){b=console;var x=b.error,y=typeof Symbol=="function"&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object";return x.call(b,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",y),t(e)}}function o(e){if(e===z)return"<>";if(typeof e=="object"&&e!==null&&e.$$typeof===A)return"<...>";try{var b=r(e);return b?"<"+b+">":"<...>"}catch{return"<...>"}}function n(){var e=f.A;return e===null?null:e.getOwner()}function l(){return Error("react-stack-top-frame")}function m(e){if(C.call(e,"key")){var b=Object.getOwnPropertyDescriptor(e,"key").get;if(b&&b.isReactWarning)return!1}return e.key!==void 0}function v(e,b){function x(){O||(O=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",b))}x.isReactWarning=!0,Object.defineProperty(e,"key",{get:x,configurable:!0})}function a(){var e=r(this.type);return q[e]||(q[e]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),e=this.props.ref,e!==void 0?e:null}function i(e,b,x,y,L,D,G,V){return x=D.ref,e={$$typeof:_,type:e,key:b,props:D,_owner:L},(x!==void 0?x:null)!==null?Object.defineProperty(e,"ref",{enumerable:!1,get:a}):Object.defineProperty(e,"ref",{enumerable:!1,value:null}),e._store={},Object.defineProperty(e._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(e,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(e,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:G}),Object.defineProperty(e,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:V}),Object.freeze&&(Object.freeze(e.props),Object.freeze(e)),e}function S(e,b,x,y,L,D,G,V){var N=b.children;if(N!==void 0)if(y)if(P(N)){for(y=0;y<N.length;y++)k(N[y]);Object.freeze&&Object.freeze(N)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else k(N);if(C.call(b,"key")){N=r(e);var Y=Object.keys(b).filter(function(ce){return ce!=="key"});y=0<Y.length?"{key: someKey, "+Y.join(": ..., ")+": ...}":"{key: someKey}",K[N+y]||(Y=0<Y.length?"{"+Y.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,y,N,Y,N),K[N+y]=!0)}if(N=null,x!==void 0&&(s(x),N=""+x),m(b)&&(s(b.key),N=""+b.key),"key"in b){x={};for(var J in b)J!=="key"&&(x[J]=b[J])}else x=b;return N&&v(x,typeof e=="function"?e.displayName||e.name||"Unknown":e),i(e,N,D,L,n(),x,G,V)}function k(e){typeof e=="object"&&e!==null&&e.$$typeof===_&&e._store&&(e._store.validated=1)}var E=d,_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),j=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),R=Symbol.for("react.client.reference"),f=E.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.prototype.hasOwnProperty,P=Array.isArray,T=console.createTask?console.createTask:function(){return null};E={"react-stack-bottom-frame":function(e){return e()}};var O,q={},H=E["react-stack-bottom-frame"].bind(E,l)(),Z=T(o(l)),K={};W.Fragment=z,W.jsx=function(e,b,x,y,L){var D=1e4>f.recentlyCreatedOwnerStacks++;return S(e,b,x,!1,y,L,D?Error("react-stack-top-frame"):H,D?T(o(e)):Z)},W.jsxs=function(e,b,x,y,L){var D=1e4>f.recentlyCreatedOwnerStacks++;return S(e,b,x,!0,y,L,D?Error("react-stack-top-frame"):H,D?T(o(e)):Z)}}()),W}var te;function de(){return te||(te=1,process.env.NODE_ENV==="production"?X.exports=ie():X.exports=ue()),X.exports}var g=de();const se={board:{className:"",columns:4,height:500,outlineStrokeColor:"#bbb",rows:5,scatterArea:0,showBoardSlotOutlines:!0,snapThreshold:20,width:400},checkLocalStorage:!1,onComplete:()=>{},onRefresh:()=>{},puzzlePiece:{strokeColor:"gold",strokeEnabled:!0},puzzle:{className:"",responsive:!1,timer:{className:"",enabled:!1},refreshButton:{className:"",enabled:!1},rowsAndColumns:{className:"",enabled:!1}}},fe="react-jigsaw",oe=2,ae=d.createContext(void 0),me=r=>{if(typeof window<"u"&&r){const t=localStorage.getItem(fe);if(t){const s=JSON.parse(t);if(typeof s.rows=="number"&&typeof s.columns=="number")return{rows:s.rows,columns:s.columns}}}return{}},pe=r=>{const{rows:t,columns:s}=me(r.checkLocalStorage),[o,n]=d.useState(s??r.columns),[l,m]=d.useState(t??r.rows),[v,a]=d.useState(!0),[i,S]=d.useState(0),k=l*o,w={columns:o,numPieces:k,refreshCount:i,rows:l,timerIsRunning:v,setBoardGrid:(z,c)=>{m(z),n(c),a(!1),setTimeout(()=>a(!0),10)},refreshBoard:()=>{a(!1),S(z=>z+1),setTimeout(()=>a(!0),10)},setTimerIsRunning:a};return g.jsx(ae.Provider,{value:w,children:r.children})},he=()=>{const r=d.useContext(ae);if(!r)throw new Error("usePuzzleContext must be used within a PuzzleProvider");return r},be=(r,t)=>t?{board:{className:t.board?.className??r.board.className,columns:t.board?.columns??r.board.columns,height:t.board?.height??r.board.height,outlineStrokeColor:t.board?.outlineStrokeColor??r.board.outlineStrokeColor,rows:t.board?.rows??r.board.rows,scatterArea:t.board?.scatterArea??r.board.scatterArea,showBoardSlotOutlines:t.board?.showBoardSlotOutlines??r.board.showBoardSlotOutlines,snapThreshold:t.board?.snapThreshold??r.board.snapThreshold,width:t.board?.width??r.board.width},checkLocalStorage:t.checkLocalStorage??r.checkLocalStorage,onComplete:t.onComplete??r.onComplete,onRefresh:t.onRefresh??r.onRefresh,puzzlePiece:{strokeColor:t.puzzlePiece?.strokeColor??r.puzzlePiece.strokeColor,strokeEnabled:t.puzzlePiece?.strokeEnabled??r.puzzlePiece.strokeEnabled},puzzle:{className:t.puzzle?.className??r.puzzle.className,responsive:t.puzzle?.responsive??r.puzzle.responsive,timer:{className:t.puzzle?.timer?.className??r.puzzle.timer.className,enabled:t.puzzle?.timer?.enabled??r.puzzle.timer.enabled},refreshButton:{className:t.puzzle?.refreshButton?.className??r.puzzle.refreshButton.className,enabled:t.puzzle?.refreshButton?.enabled??r.puzzle.refreshButton.enabled},rowsAndColumns:{className:t.puzzle?.rowsAndColumns?.className??r.puzzle.rowsAndColumns.className,enabled:t.puzzle?.rowsAndColumns?.enabled??r.puzzle.rowsAndColumns.enabled}}}:r;function ge({initialX:r,initialY:t,boardRef:s,targetX:o,targetY:n,snapThreshold:l,onSnap:m}){const v=d.useRef(null),[a,i]=d.useState({isDragging:!1,x:r,y:t}),[S,k]=d.useState(!1),E=d.useRef(null),_=d.useRef(null),w=d.useCallback((h,R)=>{const f=s.current;if(!f)return{x:h,y:R};const C=f.createSVGPoint();C.x=h,C.y=R;const P=C.matrixTransform(f.getScreenCTM()?.inverse());return{x:P.x,y:P.y}},[s]),z=d.useCallback((h,R)=>Math.hypot(h-o,R-n)<=l?(k(!0),i(C=>({...C,x:o,y:n,isDragging:!1})),m?.(),!0):!1,[o,n,l,m]),c=d.useCallback(h=>{const R=E.current;if(!R||!R.isDragging||h.pointerId!==R.pointerId)return;const f=w(h.clientX,h.clientY),C=f.x-R.offsetX,P=f.y-R.offsetY;i(T=>({...T,x:C,y:P})),h.preventDefault()},[w]);_.current=c;const u=d.useCallback(h=>{const R=E.current;if(!R||!R.isDragging||h.pointerId!==R.pointerId)return;R.isDragging=!1,_.current&&window.removeEventListener("pointermove",_.current),window.removeEventListener("pointerup",u),window.removeEventListener("pointercancel",u);const f=v.current;f&&f.hasPointerCapture(h.pointerId)&&f.releasePointerCapture(h.pointerId);const C=w(h.clientX,h.clientY),P=C.x-R.offsetX,T=C.y-R.offsetY;E.current=null,z(P,T)||i(O=>({...O,isDragging:!1})),h.preventDefault()},[w,z]),p=d.useCallback(h=>{if(S||!h.isPrimary)return;const R=v.current;if(!R)return;const f=w(h.clientX,h.clientY),C=f.x-a.x,P=f.y-a.y;E.current={offsetX:C,offsetY:P,pointerId:h.pointerId,isDragging:!0},R.setPointerCapture(h.pointerId),_.current&&window.addEventListener("pointermove",_.current,{passive:!1}),window.addEventListener("pointerup",u,{passive:!1}),window.addEventListener("pointercancel",u,{passive:!1}),i(T=>({...T,isDragging:!0})),h.preventDefault()},[S,a.x,a.y,w,u]),j=d.useCallback(h=>{h.preventDefault()},[]),I=d.useCallback(h=>{h.preventDefault()},[]),B=d.useCallback(h=>{u(h.nativeEvent)},[u]),M=d.useCallback((h,R)=>{S||i(f=>({...f,x:h,y:R}))},[S]),$=d.useCallback((h,R)=>{S||i(f=>({...f,x:f.x+h,y:f.y+R}))},[S]),A=d.useCallback(()=>S?!1:z(a.x,a.y),[S,a.x,a.y,z]);return{ref:v,dragState:a,isSnapped:S,moveTo:M,moveBy:$,trySnap:A,handlers:{onPointerDown:p,onPointerMove:j,onPointerUp:I,onPointerCancel:B,style:{touchAction:"none",cursor:S?"default":a.isDragging?"grabbing":"grab"}}}}const ve="_puzzlePiece_10f4h_1",Se={puzzlePiece:ve},we=10,ze=({boardHeight:r,boardWidth:t,image:s,pieceIndex:o,initialX:n,initialY:l,path:m,snapThreshold:v,boardRef:a,targetX:i,targetY:S,puzzlePieceOptions:k,onSnap:E,onSnapWithKeyboard:_,registerPieceRef:w,boardSlotKey:z})=>{const{ref:c,dragState:u,isSnapped:p,moveBy:j,trySnap:I,handlers:B}=ge({initialX:n,initialY:l,snapThreshold:v,boardRef:a,targetX:i,targetY:S,onSnap:E});d.useEffect(()=>(w&&w(z,c.current),()=>{w&&w(z,null)}),[c,w,z]);const M=$=>{if(p)return;const A=we;switch($.key){case"ArrowUp":$.preventDefault(),j(0,-A);break;case"ArrowDown":$.preventDefault(),j(0,A);break;case"ArrowLeft":$.preventDefault(),j(-A,0);break;case"ArrowRight":$.preventDefault(),j(A,0);break;case"Enter":case" ":{$.preventDefault(),I()&&_&&_();break}}};return d.useEffect(()=>{u.isDragging&&c.current&&c.current.parentNode&&!p&&c.current.parentNode.appendChild(c.current)},[c,u.isDragging,p]),d.useEffect(()=>{if(!u.isDragging&&p&&c.current&&c.current.parentNode){const $=c.current.parentNode;$.firstChild!==c.current&&$.insertBefore(c.current,$.firstChild)}},[c,u.isDragging,p]),g.jsxs("g",{ref:c,transform:p?"":`translate(${u.x},${u.y})`,...B,className:Se.puzzlePiece,tabIndex:p?-1:0,onKeyDown:M,children:[g.jsx("defs",{children:g.jsx("clipPath",{id:`piece-clip-${o}`,children:g.jsx("path",{d:m})})}),g.jsx("image",{href:s,x:0,y:0,width:t,height:r,clipPath:`url(#piece-clip-${o})`,preserveAspectRatio:"xMidYMid slice"}),g.jsx("path",{d:m,fill:"none",stroke:p||!k.strokeEnabled?"":k.strokeColor,strokeWidth:k.strokeEnabled?oe:0})]})},Ce=({columns:r,rows:t})=>{const s=[];for(let o=0;o<t;o++){s[o]=[];for(let n=0;n<r;n++){const l=n===r-1?0:(o+n)%2===0?1:-1,m=o===t-1?0:(o+n)%2===0?1:-1,v=n===0?0:-s[o][n-1][1],a=o===0?0:-s[o-1][n][2];s[o][n]=[a,l,m,v]}}return s},le=({col:r,row:t,options:s})=>{const{boardWidth:o,boardHeight:n,rows:l,columns:m,edgeMap:v}=s,a=o/m,i=n/l,S=r*a,k=t*i,[E,_,w,z]=v[t][r],c=Math.min(a,i)/3,u=c/2;let p=`M${S},${k}`;return E===0?p+=` h${a}`:(p+=` h${(a-c)/2}`,p+=` a${u},${u} 0 0 ${E===1?1:0} ${c},0`,p+=` h${(a-c)/2}`),_===0?p+=` v${i}`:(p+=` v${(i-c)/2}`,p+=` a${u},${u} 0 0 ${_===1?1:0} 0,${c}`,p+=` v${(i-c)/2}`),w===0?p+=` h-${a}`:(p+=` h-${(a-c)/2}`,p+=` a${u},${u} 0 0 ${w===1?1:0} -${c},0`,p+=` h-${(a-c)/2}`),z===0?p+=` v-${i}`:(p+=` v-${(i-c)/2}`,p+=` a${u},${u} 0 0 ${z===1?1:0} 0,-${c}`,p+=` v-${(i-c)/2}`),p+=" Z",p},Re="_boardSlotOutline_mbtg0_1",Ee="_snapped_mbtg0_6",re={boardSlotOutline:Re,snapped:Ee},_e=r=>{const{boardPathOptions:t,boardSlots:s,showBoardSlotOutlines:o,snappedPieceIds:n}=r;return o?g.jsx("g",{"data-testid":"board-outlines",children:s.map(({pieceRow:l,pieceCol:m})=>{const v=`${l}-${m}`,a=n.has(v);return g.jsx("path",{"data-testid":`outline-${l}-${m}`,className:`${re.boardSlotOutline} ${a?re.snapped:""}`,d:le({row:l,col:m,options:t}),stroke:t.outlineStrokeColor},`outline-${l}-${m}`)})}):null},xe=(r,t)=>Array.from({length:r*t},(s,o)=>({pieceRow:Math.floor(o/t),pieceCol:o%t})),ke=r=>{const t=[...r];for(let s=t.length-1;s>0;s--){const o=Math.floor(Math.random()*(s+1));[t[s],t[o]]=[t[o],t[s]]}return t},Pe=({boardWidth:r,boardHeight:t,boardSlots:s,pieceHeight:o,pieceWidth:n,scatterArea:l})=>{const m=ke(s),v=r+l*2,a=t+l*2,i=-l,S=-l;return m.map(({pieceRow:k,pieceCol:E})=>{const _=i+Math.random()*(v-n),w=S+Math.random()*(a-o),z=E*n,c=k*o,u=_-z,p=w-c;return{pieceRow:k,pieceCol:E,x:u,y:p}})},$e="_board_srrvi_1",Te={board:$e},ye=r=>{const{boardHeight:t,boardWidth:s,className:o,columns:n,image:l,onPuzzleComplete:m,outlineStrokeColor:v,puzzlePieceOptions:a,rows:i,showBoardSlotOutlines:S,snapThreshold:k,scatterArea:E}=r,_=t/i,w=s/n,[z,c]=d.useState([]),[u,p]=d.useState(new Set),j=d.useRef(null),I=d.useRef(new Map),B=d.useMemo(()=>Ce({rows:i,columns:n}),[i,n]),M=d.useMemo(()=>({boardHeight:t,boardWidth:s,columns:n,edgeMap:B,outlineStrokeColor:v,rows:i}),[t,s,n,B,v,i]),$=d.useMemo(()=>xe(i,n),[i,n]);d.useEffect(()=>{const f=Pe({boardHeight:t,boardWidth:s,boardSlots:$,pieceHeight:_,pieceWidth:w,scatterArea:E});c(f),p(new Set),I.current.clear()},[t,s,$,_,w,E]),d.useEffect(()=>{const f=i*n;u.size===f&&m?.()},[u.size,i,n,m]);const A=f=>{const{pieceRow:C,pieceCol:P}=z[f],T=`${C}-${P}`;p(O=>new Set([...O,T]))},h=f=>{const C=z.find((P,T)=>{const O=`${P.pieceRow}-${P.pieceCol}`;return T!==f&&!u.has(O)});if(C){const P=`${C.pieceRow}-${C.pieceCol}`,T=I.current.get(P);T&&T.focus()}},R=(f,C)=>{C?I.current.set(f,C):I.current.delete(f)};return g.jsxs("svg",{ref:j,className:`${Te.board} ${o}`,"data-testid":"board",height:t,width:s,viewBox:`0 0 ${s} ${t}`,children:[g.jsx(_e,{boardPathOptions:M,boardSlots:$,showBoardSlotOutlines:S,snappedPieceIds:u}),z.map(({pieceRow:f,pieceCol:C,x:P,y:T},O)=>g.jsx(ze,{boardHeight:t,boardWidth:s,boardSlotKey:`${f}-${C}`,image:l,pieceIndex:O,initialX:P,initialY:T,onSnap:()=>A(O),onSnapWithKeyboard:()=>h(O),path:le({col:C,row:f,options:M}),puzzlePieceOptions:a,registerPieceRef:R,snapThreshold:k,boardRef:j,targetX:C*w/100,targetY:f*_/100},`${f}-${C}`))]})},Ne="_editRowsColumns_1gi2i_1",je="_inlineNote_1gi2i_51",ne={editRowsColumns:Ne,inlineNote:je},Oe=r=>{const{className:t,currentColumns:s,currentRows:o,onBoardSlotChange:n}=r,[l,m]=d.useState(o.toString()),[v,a]=d.useState(s.toString()),i=parseInt(l)!==o||parseInt(v)!==s,S=parseInt(l)>=2&&parseInt(l)<=10,k=parseInt(v)>=2&&parseInt(v)<=10,E=S&&k&&i;d.useEffect(()=>{m(o.toString()),a(s.toString())},[o,s]);const _=c=>{const u=c.target.value;(u===""||/^\d+$/.test(u))&&m(u)},w=c=>{const u=c.target.value;(u===""||/^\d+$/.test(u))&&a(u)},z=c=>{c.preventDefault(),E&&(localStorage.setItem("react-jigsaw",JSON.stringify({rows:parseFloat(l),columns:parseFloat(v)})),n(parseInt(l),parseInt(v)))};return g.jsxs(g.Fragment,{children:[g.jsxs("form",{"data-testid":"edit-rows-columns",className:`${ne.editRowsColumns} ${t}`,onSubmit:z,children:[g.jsxs("label",{children:["Rows:",g.jsx("input",{type:"text",value:l,onChange:_,placeholder:"2-10"})]}),g.jsxs("label",{children:["Cols:",g.jsx("input",{type:"text",value:v,onChange:w,placeholder:"2-10"})]}),g.jsx("input",{type:"submit",value:"Ok",disabled:!E})]}),g.jsx("span",{className:ne.inlineNote,children:"(Valid numbers: 2-10)"})]})},Ae="_refreshButton_17b0p_1",Ie={refreshButton:Ae},De=r=>{const{className:t,onRefresh:s}=r;return g.jsx("button",{"data-testid":"refresh-button",className:`${Ie.refreshButton} ${t}`,onClick:s,title:"Refresh puzzle",children:g.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:oe,strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),g.jsx("path",{d:"M21 3v5h-5"}),g.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),g.jsx("path",{d:"M3 21v-5h5"})]})})},Be="_timer_thvwo_1",Me={timer:Be},Le=r=>{const{className:t,isRunning:s,onTimeUpdate:o}=r,[n,l]=d.useState(0),m=d.useRef(null);d.useEffect(()=>(s?m.current=setInterval(()=>{l(a=>{const i=a+1;return o?.(i),i})},1e3):m.current&&(clearInterval(m.current),m.current=null),()=>{m.current&&clearInterval(m.current)}),[s,o]),d.useEffect(()=>{s&&l(0)},[s]);const v=a=>{const i=Math.floor(a/60),S=a%60;return`${i.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}`};return g.jsx("div",{"data-testid":"timer",className:`${Me.timer} ${t}`,children:v(n)})},Ye="_puzzle_c9hl6_1",Fe="_responsive_c9hl6_5",We="_settingsContainer_c9hl6_13",U={puzzle:Ye,responsive:Fe,settingsContainer:We},Ue=r=>{const{image:t,onComplete:s,onRefresh:o,options:n}=r,{columns:l,refreshBoard:m,refreshCount:v,rows:a,setBoardGrid:i,setTimerIsRunning:S,timerIsRunning:k}=he(),E=(p,j)=>{i(p,j)},_=()=>{o?.(),m()},w=()=>{S(!1),s?.()},z=n.board.width/n.board.height,c=n.puzzle.responsive?`${U.puzzle} ${U.responsive}`:U.puzzle,u=n.puzzle.responsive?{"--puzzle-aspect-ratio":z.toString()}:{};return g.jsxs("div",{"data-testid":"puzzle-content",className:c,style:{...u},children:[n.puzzle.timer.enabled||n.puzzle.refreshButton.enabled?g.jsxs("div",{className:U.settingsContainer,children:[n.puzzle.timer.enabled&&g.jsx(Le,{className:n.puzzle.timer.className,isRunning:k}),n.puzzle.refreshButton.enabled&&g.jsx(De,{className:n.puzzle.refreshButton.className,onRefresh:_})]}):null,g.jsx(ye,{boardHeight:n.board.height,boardWidth:n.board.width,className:n.board.className,columns:l,image:t,onPuzzleComplete:w,outlineStrokeColor:n.board.outlineStrokeColor,puzzlePieceOptions:n.puzzlePiece,rows:a,scatterArea:n.board.scatterArea,showBoardSlotOutlines:n.board.showBoardSlotOutlines,snapThreshold:n.board.snapThreshold},`${a}-${l}-${v}`),n.puzzle.rowsAndColumns.enabled&&g.jsx("div",{className:U.settingsContainer,children:g.jsx(Oe,{className:n.puzzle.rowsAndColumns.className,currentRows:a,currentColumns:l,onBoardSlotChange:E})})]})},Xe=r=>{const{options:t}=r,s=be(se,t);return g.jsx(pe,{checkLocalStorage:s.checkLocalStorage,columns:s.board.columns,rows:s.board.rows,children:g.jsx(Ue,{...r,options:s})})};exports.DEFAULT_PUZZLE_OPTIONS=se;exports.Puzzle=Xe;
